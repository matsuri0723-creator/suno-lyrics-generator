<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SUNO AI楽曲生成ボット</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lucide/0.263.1/umd/lucide.js"></script>
    <style>
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: .5;
            }
        }
        .animate-spin {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans antialiased">
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { Music, Copy, Download, Wand2, Sparkles, RefreshCw } = lucide;

        const SunoAISongGenerator = () => {
            const [songTitle, setSongTitle] = useState('');
            const [genre, setGenre] = useState('');
            const [mood, setMood] = useState('');
            const [customRequirements, setCustomRequirements] = useState('');
            const [songLength, setSongLength] = useState('standard');
            const [generatedOutput, setGeneratedOutput] = useState(null);
            const [isGenerating, setIsGenerating] = useState(false);

            const genreOptions = [
                'ポップス', 'ロック', 'バラード', 'エレクトロニック', 'ヒップホップ', 'ジャズ', 'クラシック', 'その他'
            ];

            const moodOptions = [
                '明るい', '悲しい', 'エネルギッシュ', '穏やか', 'ロマンチック', 'ダーク'
            ];
            
            const jaToEn = {
                'ポップス': 'J-Pop, Pop',
                'ロック': 'Rock',
                'バラード': 'Ballad',
                'エレクトロニック': 'Electronic, EDM',
                'ヒップホップ': 'Hip-Hop',
                'ジャズ': 'Jazz',
                'クラシック': 'Classical',
                'その他': 'miscellaneous',

                '明るい': 'upbeat, cheerful',
                '悲しい': 'melancholic, sad',
                'エネルギッシュ': 'energetic, powerful',
                '穏やか': 'calm, relaxing',
                'ロマンチック': 'romantic',
                'ダーク': 'dark, mysterious',

                'アコースティックギター': 'acoustic guitar',
                'エレキギター': 'electric guitar',
                'ピアノ': 'piano',
                'シンセサイザー': 'synthesizer',
                'オーケストラ': 'orchestral',
                'ドラム': 'drums',
                'ベース': 'bass',
                'ギターソロ': 'guitar solo',
                'ピアノソロ': 'piano solo',
                'コーラス': 'chorus',
                'ラップパート': 'rap part'
            };

            const generateOutput = async () => {
                if (!songTitle) {
                    alert('楽曲タイトルは必須です。');
                    return;
                }

                setIsGenerating(true);
                setGeneratedOutput(null);

                await new Promise(resolve => setTimeout(resolve, 2000));

                const translateJaToEn = (text) => {
                    if (!text) return '';
                    let translatedText = text;
                    for (const [ja, en] of Object.entries(jaToEn)) {
                        const regex = new RegExp(ja, 'g');
                        translatedText = translatedText.replace(regex, en);
                    }
                    return translatedText.replace(/、/g, ', ');
                };

                const styleTags = [
                    translateJaToEn(genre),
                    translateJaToEn(mood),
                    translateJaToEn(customRequirements)
                ].filter(Boolean).join(', ');

                const baseLyrics = `[Verse 1]
${songTitle}という名のメロディが心に響く。
風のように過ぎ去った日々に、思い出は色褪せることなく光ってる。

[Chorus]
あの夏の空の下で、君と過ごした時間が
永遠に続くような気がした。
${songTitle}、忘れはしない。

[Verse 2]
街角で聞こえる音楽が、あの頃を思い出させる。
変わらない想いを胸に、今日もまた歩いていこう。

[Outro]
時が流れても、心の中に生き続ける。
大切な記憶たちよ、ありがとう。
`;

                let dynamicLyrics = baseLyrics;

                if (customRequirements.includes('ピアノ')) {
                    dynamicLyrics = dynamicLyrics.replace('心に響く', '心に響くピアノの音色が');
                }
                if (customRequirements.includes('ギターソロ')) {
                    dynamicLyrics = dynamicLyrics.replace('忘れはしない', '忘れはしない。熱いギターソロが響く。');
                }
                if (customRequirements.includes('コーラス')) {
                    dynamicLyrics = dynamicLyrics.replace('[Chorus]', '[Chorus]\n（La la la...）');
                }
                if (customRequirements.includes('ラップパート')) {
                    dynamicLyrics += `\n\n[Rap Part]
Yo, this is a part for all my memories,
Gonna drop a beat for all those summer days,
'cause you know the title is ${songTitle}, it's forever, yo.`;
                }
                
                setGeneratedOutput({
                    lyrics: dynamicLyrics,
                    style: styleTags
                });
                setIsGenerating(false);
            };

            const resetForm = () => {
                setSongTitle('');
                setGenre('');
                setMood('');
                setCustomRequirements('');
                setSongLength('standard');
                setGeneratedOutput(null);
            };

            return (
                <div className="min-h-screen bg-gray-100 text-gray-800 p-4 sm:p-8 flex items-center justify-center">
                    <div className="max-w-4xl w-full bg-white p-6 sm:p-10 rounded-3xl shadow-2xl space-y-8">
                        {/* Header */}
                        <div className="text-center space-y-2">
                            <h1 className="text-3xl sm:text-4xl font-extrabold text-indigo-700 tracking-tight">
                                <Wand2 className="inline-block w-8 h-8 sm:w-10 sm:h-10 text-pink-500 mr-2 animate-pulse" />
                                SUNO AI楽曲生成ボット
                            </h1>
                            <p className="text-gray-500 text-sm sm:text-base">
                                あなたのアイデアをAIが楽曲に変換します
                            </p>
                        </div>

                        {/* Main Form */}
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                            {/* Input Section */}
                            <div className="space-y-6">
                                {/* Title Input */}
                                <div className="space-y-2">
                                    <label htmlFor="songTitle" className="font-semibold text-gray-700 flex items-center">
                                        <Music className="w-5 h-5 mr-1 text-indigo-500" />
                                        楽曲タイトル <span className="text-red-500 ml-1">*</span>
                                    </label>
                                    <input
                                        id="songTitle"
                                        type="text"
                                        placeholder="例: 夏の思い出"
                                        value={songTitle}
                                        onChange={(e) => setSongTitle(e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                                    />
                                </div>

                                {/* Genre & Mood */}
                                <div className="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                    <div className="space-y-2">
                                        <label htmlFor="genre" className="font-semibold text-gray-700">ジャンル</label>
                                        <select
                                            id="genre"
                                            value={genre}
                                            onChange={(e) => setGenre(e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                                        >
                                            <option value="">選択してください</option>
                                            {genreOptions.map(option => (
                                                <option key={option} value={option}>{option}</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div className="space-y-2">
                                        <label htmlFor="mood" className="font-semibold text-gray-700">雰囲気・イメージ</label>
                                        <select
                                            id="mood"
                                            value={mood}
                                            onChange={(e) => setMood(e.target.value)}
                                            className="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                                        >
                                            <option value="">選択してください</option>
                                            {moodOptions.map(option => (
                                                <option key={option} value={option}>{option}</option>
                                            ))}
                                        </select>
                                    </div>
                                </div>

                                {/* Custom Requirements */}
                                <div className="space-y-2">
                                    <label htmlFor="customRequirements" className="font-semibold text-gray-700">
                                        こだわり・入れたい楽器・要素
                                    </label>
                                    <textarea
                                        id="customRequirements"
                                        rows="4"
                                        placeholder="例: アコースティックギター、ピアノソロ、コーラス、優しいメロディ"
                                        value={customRequirements}
                                        onChange={(e) => setCustomRequirements(e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 transition resize-y"
                                    />
                                </div>

                                {/* Song Length */}
                                <div className="space-y-2">
                                    <label htmlFor="songLength" className="font-semibold text-gray-700">楽曲の長さ</label>
                                    <select
                                        id="songLength"
                                        value={songLength}
                                        onChange={(e) => setSongLength(e.target.value)}
                                        className="w-full p-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"
                                    >
                                        <option value="standard">スタンダード (約1分30秒)</option>
                                        <option value="long">ロング (約3分)</option>
                                    </select>
                                </div>

                                {/* Action Buttons */}
                                <div className="flex flex-col sm:flex-row gap-4">
                                    <button
                                        onClick={generateOutput}
                                        disabled={isGenerating}
                                        className={`flex-1 flex items-center justify-center p-4 rounded-xl font-bold transition-all transform ${isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-indigo-600 hover:bg-indigo-700 text-white shadow-lg hover:scale-105'}`}
                                    >
                                        {isGenerating ? (
                                            <>
                                                <RefreshCw className="w-5 h-5 mr-2 animate-spin" />
                                                生成中...
                                            </>
                                        ) : (
                                            <>
                                                <Sparkles className="w-5 h-5 mr-2" />
                                                AI生成
                                            </>
                                        )}
                                    </button>
                                    <button
                                        onClick={resetForm}
                                        className="flex-1 flex items-center justify-center p-4 rounded-xl font-bold text-indigo-600 bg-white border border-indigo-600 hover:bg-indigo-50 transition-colors"
                                    >
                                        リセット
                                    </button>
                                </div>
                            </div>

                            {/* Output Section */}
                            <div className="space-y-6">
                                {isGenerating && (
                                    <div className="flex items-center justify-center p-8 bg-indigo-50 rounded-xl text-indigo-700 font-semibold">
                                        <RefreshCw className="w-6 h-6 mr-3 animate-spin" />
                                        歌詞とスタイルを生成中...
                                    </div>
                                )}

                                {generatedOutput && (
                                    <>
                                        {/* Lyrics Output */}
                                        <div className="bg-gray-50 p-6 rounded-xl border border-gray-200 space-y-4">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center">
                                                <Music className="w-5 h-5 mr-2 text-indigo-500" />
                                                生成された歌詞
                                            </h3>
                                            <div className="bg-white p-4 rounded-lg border border-gray-300 whitespace-pre-wrap text-sm text-gray-700 h-64 overflow-y-auto">
                                                {generatedOutput.lyrics}
                                            </div>
                                            <button
                                                onClick={() => navigator.clipboard.writeText(generatedOutput.lyrics)}
                                                className="w-full bg-indigo-500 text-white font-semibold py-2 rounded-lg hover:bg-indigo-600 transition"
                                            >
                                                <Copy className="inline-block w-4 h-4 mr-1" />
                                                歌詞をコピー
                                            </button>
                                        </div>

                                        {/* Style Tag Output */}
                                        <div className="bg-gray-50 p-6 rounded-xl border border-gray-200 space-y-4">
                                            <h3 className="text-lg font-bold text-gray-800 flex items-center">
                                                <Sparkles className="w-5 h-5 mr-2 text-pink-500" />
                                                SUNOスタイルタグ
                                            </h3>
                                            <div className="bg-white p-4 rounded-lg border border-gray-300 whitespace-pre-wrap text-sm text-gray-700 h-24 overflow-y-auto">
                                                {generatedOutput.style}
                                            </div>
                                            <button
                                                onClick={() => navigator.clipboard.writeText(generatedOutput.style)}
                                                className="w-full bg-indigo-500 text-white font-semibold py-2 rounded-lg hover:bg-indigo-600 transition"
                                            >
                                                <Copy className="inline-block w-4 h-4 mr-1" />
                                                スタイルをコピー
                                            </button>
                                        </div>
                                    </>
                                )}

                                {/* Info Section */}
                                <div className="bg-amber-50 p-4 rounded-xl border border-amber-200">
                                    <h3 className="text-lg font-semibold text-amber-800 mb-2">🎵 使い方</h3>
                                    <ol className="text-sm text-amber-700 space-y-2">
                                        <li>1. 楽曲タイトルを入力（必須）</li>
                                        <li>2. ジャンルと雰囲気を選択（任意）</li>
                                        <li>3. こだわりや楽器の要求を入力（任意）</li>
                                        <li>4. 楽曲の長さを選択（任意）</li>
                                        <li>5. 「AI生成」ボタンをクリック</li>
                                        <li>6. 生成結果をコピーしてSUNOに貼り付け</li>
                                    </ol>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<SunoAISongGenerator />, document.getElementById('root'));
    </script>
</body>
</html>
